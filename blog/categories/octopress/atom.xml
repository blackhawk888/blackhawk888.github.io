<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: Octopress | Wivern Blog]]></title>
  <link href="http://blackhawk888.github.io/blog/categories/octopress/atom.xml" rel="self"/>
  <link href="http://blackhawk888.github.io/"/>
  <updated>2016-08-28T06:00:01+00:00</updated>
  <id>http://blackhawk888.github.io/</id>
  <author>
    <name><![CDATA[wivern]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[OctopressをGitHubのProject Pageで作成]]></title>
    <link href="http://blackhawk888.github.io/blog/2016/08/28/octopress-projectpage-ghpages/"/>
    <updated>2016-08-28T14:56:55+00:00</updated>
    <id>http://blackhawk888.github.io/blog/2016/08/28/octopress-projectpage-ghpages</id>
    <content type="html"><![CDATA[<h3>Project Page (gh-pages) にデプロイする場合</h3>

<p>Github Pagesでサイトを公開する場合は<code>[username].github.io</code>というリポジトリを作成し、
デプロイすることで<code>https://[username].github.io</code>でアクセスすることができるが、任意のリポジトリを作成し、
Project Page(gh-pages)にデプロイすることもできる。</p>

<!--more -->


<p>ユーザのウェブページを公開するユーザサイト（User site）[username].github.io でアクセスとの違いは、
URlが<code>https://[username].github.io/[repository_name/]</code>になることと
<code>[username].github.io</code> リポジトリのときとは異なり、<code>_deploy/</code> ディレクトリは <code>gh-pages</code> ブランチに設定される。</p>

<p>Octopressのインストールは以前書いたとおり<code>git clone</code>するだけ。<br/>
あとは必要な<code>gem</code>を<code>bundle --path vendor/bunde</code>、<code>bundel exec rake install</code>でインストール。</p>

<p>事前にGithubでリポジトリを作成しておく。</p>

<pre><code>$ rake setup_github_pages
Repository url: git@github.com:[username]/[username].github.io.git
</code></pre>

<p>上記によって、以下のことが行われる。</p>

<ul>
<li><code>git@github.com:[username]/[username].github.io.git</code> が <code>origin remote</code> として追加される</li>
<li><code>_deploy/</code> ディレクトリがリポジトリの <code>gh-pages</code> ブランチに設定される</li>
<li>親ディレクトリは <code>source</code> ブランチになる</li>
</ul>


<p>ソースコードを管理するため、remote のリポジトリURLを設定</p>

<pre><code>$ git remote add origin git@github.com:[username]/[repository_name].git 
$ git config branch.master.remote origin
</code></pre>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[OctopressにGoogle Analytics導入]]></title>
    <link href="http://blackhawk888.github.io/blog/2016/08/27/octopress-google-analytics/"/>
    <updated>2016-08-27T20:05:08+00:00</updated>
    <id>http://blackhawk888.github.io/blog/2016/08/27/octopress-google-analytics</id>
    <content type="html"><![CDATA[<h3>Google Analytics設定</h3>

<p>Google Analytics(アナリティクス)とは、アクセス解析を行うことができる解析ツール。<br/>
Octopress は、デフォルトで Google Analytics の設定をすることが可能。</p>

<!--more-->


<p>サイトページ内にトラッキングコードと呼ばれるJavaScript コードを埋め込み、
訪問者がサイトへアクセスした際の閲覧情報がGoogle Analyticsサーバへ送信される仕組み。
トラッキング IDとはUA-XXXXXXXX-Xのような文字列で、データの送信先となるアカウントや
プロパティを Google アナリティクス側で特定するためのID。</p>

<p><a href="http://www.google.co.jp/intl/ja/analytics/">Google Analytics</a>サイトに行き、ログインまたは
アカウントを作成をクリックしログイン後、<code>プロパティ名</code>、<code>デフォルトのURL</code>等を設定し保存すると
<code>トラッキング ID</code>が表示されるので<code>_config.yml</code>に設定する。</p>

<h3>_config.ymlの編集</h3>

<pre><code class="ruby"># Google Analytics
google_analytics_tracking_id: UA-XXXXXXXX-X  # &lt;- Google Analytics ID を指定
</code></pre>

<p>ブログにアクセスされるたびに Google Analyticsで集計される。</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[OctopressでsourceをBitbucket管理]]></title>
    <link href="http://blackhawk888.github.io/blog/2016/08/27/octopress-repository-bitbacket/"/>
    <updated>2016-08-27T15:47:33+00:00</updated>
    <id>http://blackhawk888.github.io/blog/2016/08/27/octopress-repository-bitbacket</id>
    <content type="html"><![CDATA[<h3>ソース情報はBitbucketで管理</h3>

<p>このブログはOctopressでGithubでホスティングしているが、ソースコードもGithubにpushしている。<br/>
GitHubはいいサービスだと思うのですが、ソースコードの共有が前提となっていて、
無料プランでは非公開リポジトリを作ることができない。</p>

<!--more-->


<p>BitbucketはGitHubと同じ、バージョン管理ツールのリポジトリを預かってくれるホスティングサービス。<br/>
5ユーザーまでであれば、非公開レポジトリの数は無制限となっており、公開リポジトリがひとつもなくても構いません。<br/>
Bitbacketのアカウントも取得しているのでソースコードをBitbacketで管理する方法も忘れないように書いておこうと思う。</p>

<h3>Bitbucketでのリポジトリ作成・設定</h3>

<ul>
<li>BitBucketにログインして、リポジトリ作成</li>
<li>[Repository name] - [GithubのRipository name]</li>
<li>[アクセスレベル] - [これは非公開リポジトリです]にチェック</li>
<li>[リポジトリタイプ] - [Git]</li>
</ul>


<h3>リモートととして登録</h3>

<pre><code>$ git remote add bitbucket git@bitbucket.org:[username]/[username].github.io.git
$ git push  bitbucket source
</code></pre>

<p>上記の設定で現在リモートとして <code>origin</code>、<code>octopress</code>、<code>bitbucket</code> の3つが登録されることとなる。</p>

<pre><code>% git remote -v
bitbucket       git@bitbucket.org:[username]/[username].github.io.git (fetch)
bitbucket       git@bitbucket.org:wivern888/[username].github.io.git (push)
octopress       git://github.com/imathis/octopress.git (fetch)
octopress       git://github.com/imathis/octopress.git (push)
origin          git@github.com:[username]/[username].github.io.git (fetch)
origin          git@github.com:[username]/[username].github.io.git (push)
</code></pre>

<p>記事の投稿をデプロイする場合は<code>bundle exec rake deploy</code>でバックアップは<code>git push bitbacket source</code>でBitbacketできるようになる。</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Octopressにコメントを追加]]></title>
    <link href="http://blackhawk888.github.io/blog/2016/08/27/octpress-comments/"/>
    <updated>2016-08-27T10:41:24+00:00</updated>
    <id>http://blackhawk888.github.io/blog/2016/08/27/octpress-comments</id>
    <content type="html"><![CDATA[<h3>コメント欄を追加</h3>

<p>このブログは個人備忘録として書いているので特にコメント欄は必要ないとは思うが、
今後導入するかどうかわからないので実際に導入して確認したので忘れないうちに書いておく。</p>

<p>コメントはデフォルトで<a href="https://disqus.com/">Disqus</a>というサービスを利用できる。<br/>
基本的にはコメントをブログと切り離して管理しブログパーツでコメント欄を提供してくれるサービス。<br/>
<code>_config.yml</code>にコメントの<code>id</code>を設定することで使用可能。<br/>
手順は以下のとおり</p>

<!--more-->


<ul>
<li><a href="https://disqus.com/">Disqus</a>にログイン</li>
<li>Disqus上にてコメントサービスを使うサイトを登録</li>
<li>登録が完了すると設定ページが表示されるので、ここで設定をしつつ、ページ中段に表示されている<code>Shortname</code>の文字列を確認</li>
<li>shortnameを<code>_config.yml</code>に入力</li>
<li>deploy</li>
</ul>


<p>Disqus導入は_config.ymlファイルにDisqusで取得した<code>Shortname</code>を記載するのみで完了</p>

<p><code>_config.yml</code> の<code>disqus_short_name</code>に自分のサイトの<code>Shortname</code>を指定</p>

<pre><code class="ruby"># Disqus Comments
disqus_short_name: sitesshortname
disqus_show_comment_count: false
</code></pre>

<p>上記を設定すると<code>source/_include/disqus.html</code>によって<code>disqus</code>用のコードを生成してくれる。</p>

<p><img src="https://i.gyazo.com/82f9217e4935ccc5f3dcb1599384a682.png" alt="Disqus Comments" /></p>

<p><code>disqus_show_comment_count</code>は任意でコメント欄のオン/オフは投稿記事単位で設定可能
<code>disqus_show_comment_count</code> はDISQUSコメント欄を導入するページのヘッダにコメント欄へのリンクを表示させるかどうかを指定する項目。</p>

<p><strong>disqus_show_comment_count: trueのとき</strong></p>

<p><img src="https://i.gyazo.com/7232f4714811db0bcea23e041556a481.png" alt="disqus_show_comment_count: ture" /></p>

<p><strong>disqus_show_comment_count: falseのとき</strong></p>

<p><img src="https://i.gyazo.com/29fc1be984bb3130d74343aa94c4943b.png" alt="disqus_show_comment_count: false" /></p>

<p><code>shortname</code>を後で確認したくなった場合は、Disqusで登録したサイトを選択し、右上にある<code>Setting</code>に移動すると表示される。</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Octopressにタグクラウドとカテゴリーリストを追加する]]></title>
    <link href="http://blackhawk888.github.io/blog/2016/08/26/octopress-category-list/"/>
    <updated>2016-08-26T23:17:49+00:00</updated>
    <id>http://blackhawk888.github.io/blog/2016/08/26/octopress-category-list</id>
    <content type="html"><![CDATA[<h3>タグリストをサイドバーに表示させる。</h3>

<p>Octopressのデフォルトのサイドメニューは<code>Recent Posts</code>のみの表示</p>

<p><img src="https://i.gyazo.com/cf857d8c62f5f7564ddbd25c9c754f90.png" alt="Recent posts" /></p>

<!--more-->


<p>記事を新規投稿するときにYAML FRONT MATTERで<code>categories</code>を設定しているので、サイドメニューにCategoriesを表示させる。</p>

<p>Octopress向けに公開されているプラグインを使ってサイドメニューにカテゴリーリストとタグクラウドを実装</p>

<h4>tokkonopapa/octopress-tagcloud プラグイン</h4>

<p><a href="https://github.com/tokkonopapa/octopress-tagcloud">https://github.com/tokkonopapa/octopress-tagcloud</a></p>

<p>tokkonopapa/octopress-tagcloudのソースコードをcloneしてファイルを配布する。</p>

<pre><code>$ git clone https://github.com/tokkonopapa/octopress-tagcloud.git
$ cp -p octopress-tagcloud/plugins/tag_cloud.rb plugins/
$ cp -p octopress-tagcloud/source/_includes/custom/asides/* source/_includes/custom/asides/
</code></pre>

<pre><code>.
├─ plugins/
│  └── tag_cloud.rb
└─ source/
   └─ _includes/
      └─ custom/
         └─ asides/
            ├─ category_list.html
            └─ tag_cloud.html
</code></pre>

<p><code>_config.yml</code>に<code>tokkonopapa/octopress-tagcloud</code> プラグインで生成する静的ファイルを
サイドメニューのコンテンツとして使用するための設定を記述</p>

<p><code>_config.yml</code>に<code>default_asides:</code>から始まる行があるが、サイドメニューに表示するHTMLファイルを配列で記述する。</p>

<pre><code>default_asides: [
    asides/recent_posts.html,
  + custom/asides/about.html,
  + custom/asides/tag_cloud.html
]
</code></pre>

<p><img src="https://i.gyazo.com/ef6d723b6ff2a154a49890d11c3c006d.png" alt="octopress-tagcloud" /></p>
]]></content>
  </entry>
  
</feed>
